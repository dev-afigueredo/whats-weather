(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{TyDT:function(t,e,n){"use strict";n.r(e),n.d(e,"DetailsModule",(function(){return J}));var i=n("ofXK"),c=n("tyNb"),a=n("kt0X");const r=Object(a.n)("[Details] Load Weather Details"),o=Object(a.n)("[Details] Load Weather Details Success",Object(a.s)()),s=Object(a.n)("[Details] Load Weather Details Failed"),b=Object(a.o)("details"),d=Object(a.q)(b,t=>t.entity),l=Object(a.q)(b,t=>t.loading),u=Object(a.q)(b,t=>t.error);var h=n("eTSW"),p=n("fXoL"),g=n("668k"),O=n("Zllk"),f=n("f0Wu"),y=n("neNJ");let m=(()=>{class t{get weather(){return this.dailyWeather.weather}get date(){return f.unix(this.dailyWeather.date).format("DD MMM - dddd")}get icon(){return`http://openweathermap.org/img/wn/${this.weather.icon}@2x.png`}get unitSymbol(){return Object(y.a)(this.unit)}unixToHourMinute(t){return f.unix(t).tz(this.timeZone).format("HH:mm")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Db({type:t,selectors:[["whats-daily-weather"]],inputs:{dailyWeather:"dailyWeather",timeZone:"timeZone",unit:"unit"},decls:19,vars:12,consts:[[1,"card"],[1,"badge","badge-secondary"],[3,"src"]],template:function(t,e){1&t&&(p.Ob(0,"div",0),p.Ob(1,"span",1),p.nc(2),p.Zb(3,"uppercase"),p.Nb(),p.Ob(4,"div"),p.Ob(5,"div"),p.Kb(6,"img",2),p.Nb(),p.Ob(7,"div"),p.Ob(8,"div"),p.nc(9),p.Nb(),p.Ob(10,"div"),p.nc(11),p.Nb(),p.Ob(12,"div"),p.nc(13),p.Nb(),p.Ob(14,"div"),p.Ob(15,"div"),p.nc(16),p.Nb(),p.Ob(17,"div"),p.nc(18),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()),2&t&&(p.zb(2),p.oc(p.ac(3,10,e.date)),p.zb(4),p.bc("src",e.icon,p.ic),p.zb(3),p.rc("",e.weather.minTemp," ",e.unitSymbol," - ",e.weather.maxTemp," ",e.unitSymbol,""),p.zb(2),p.pc("Humidade: ",e.weather.humidity," %"),p.zb(2),p.pc("Velocidade do vento: ",e.weather.wind.speed," m/s"),p.zb(3),p.pc("Nascer do sol: ",e.unixToHourMinute(e.weather.sunrise),""),p.zb(2),p.pc("P\xf4r do sol: ",e.unixToHourMinute(e.weather.sunset),""))},pipes:[i.o],styles:[".card[_ngcontent-%COMP%]{margin-top:8px;padding:8px;display:flex;flex-direction:column}.card[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:8px;display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:8px;align-items:center}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:50px;height:50px}"],changeDetection:0}),t})();function w(t,e){1&t&&p.Kb(0,"whats-loader")}function j(t,e){if(1&t&&(p.Kb(0,"whats-daily-weather",7),p.Zb(1,"async"),p.Zb(2,"async")),2&t){const t=e.$implicit,n=p.Yb(3);p.bc("dailyWeather",t)("timeZone",p.ac(1,3,n.details$).city.timeZone)("unit",p.ac(2,5,n.unit$))}}function v(t,e){if(1&t&&(p.Mb(0),p.Ob(1,"h1"),p.nc(2),p.Zb(3,"async"),p.Zb(4,"async"),p.Nb(),p.Ob(5,"div",4),p.Kb(6,"whats-detailed-weather",5),p.Zb(7,"async"),p.Zb(8,"async"),p.Nb(),p.lc(9,j,3,7,"whats-daily-weather",6),p.Zb(10,"async"),p.Lb()),2&t){const t=p.Yb(2);p.zb(2),p.qc("",p.ac(3,5,t.details$).city.name,", ",p.ac(4,7,t.details$).city.country,""),p.zb(4),p.bc("weather",p.ac(7,9,t.details$).current)("unit",p.ac(8,11,t.unit$)),p.zb(3),p.bc("ngForOf",p.ac(10,13,t.details$).daily)}}function M(t,e){1&t&&(p.Ob(0,"div"),p.nc(1,"Erro"),p.Nb())}function Z(t,e){if(1&t&&(p.lc(0,v,11,15,"ng-container",3),p.Zb(1,"async"),p.lc(2,M,2,0,"div",3),p.Zb(3,"async")),2&t){const t=p.Yb();p.bc("ngIf",!p.ac(1,2,t.error$)),p.zb(2),p.bc("ngIf",p.ac(3,4,t.error$))}}let x=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(r()),this.details$=this.store.pipe(Object(a.t)(d)),this.loading$=this.store.pipe(Object(a.t)(l)),this.error$=this.store.pipe(Object(a.t)(u)),this.unit$=this.store.pipe(Object(a.t)(h.a))}}return t.\u0275fac=function(e){return new(e||t)(p.Jb(a.h))},t.\u0275cmp=p.Db({type:t,selectors:[["whats-details"]],decls:5,vars:4,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["notLoading",""],[4,"ngIf"],[1,"card","current-card"],[3,"weather","unit"],[3,"dailyWeather","timeZone","unit",4,"ngFor","ngForOf"],[3,"dailyWeather","timeZone","unit"]],template:function(t,e){if(1&t&&(p.Ob(0,"div",0),p.lc(1,w,1,0,"whats-loader",1),p.Zb(2,"async"),p.lc(3,Z,4,6,"ng-template",null,2,p.mc),p.Nb()),2&t){const t=p.fc(4);p.zb(1),p.bc("ngIf",p.ac(2,2,e.loading$))("ngIfElse",t)}},directives:[i.k,g.a,O.a,i.j,m],pipes:[i.b],styles:[".container-fluid[_ngcontent-%COMP%]{margin:0 0 16px;padding:32px 0 0}.container-fluid[_ngcontent-%COMP%]   .current-card[_ngcontent-%COMP%]{padding:16px}"]}),t})(),C=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return!(!t.queryParams.lat||!t.queryParams.lon)||this.router.createUrlTree([""])}}return t.\u0275fac=function(e){return new(e||t)(p.Sb(c.e))},t.\u0275prov=p.Fb({token:t,factory:t.\u0275fac}),t})();const P=Object(a.p)({entity:void 0,loading:!1,error:!1},Object(a.r)(r,t=>Object.assign(Object.assign({},t),{entity:void 0,loading:!0,error:!1})),Object(a.r)(o,(t,{entity:e})=>Object.assign(Object.assign({},t),{entity:e,loading:!1})),Object(a.r)(s,t=>Object.assign(Object.assign({},t),{loading:!1,error:!0})));function $(t,e){return P(t,e)}var N=n("snw9"),z=n("itXk"),W=n("zp1y"),_=n("5+tZ"),D=n("JIr8"),S=n("lJxs");const k=Object(a.o)("router"),q=Object(a.q)(k,t=>t&&t.state||{}),I=Object(a.q)(q,t=>t&&t.queryParams||{});var T=n("d3tU");let F=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.weatherService=n,this.loadCurrentWeather$=Object(N.c)(()=>this.actions$.pipe(Object(N.d)(r),Object(W.a)(this.store.pipe(Object(a.t)(I))),Object(_.a)(([,t])=>Object(z.a)([this.weatherService.getCityWeatherByCoord(t.lat,t.lon),this.weatherService.getWeatherDetails(t.lat,t.lon)])),Object(D.a)((t,e)=>(console.log(t),this.store.dispatch(s()),e)),Object(S.a)(([t,e])=>{const n=e;return n.city=Object.assign(Object.assign({},t.city),{timeZone:e.city.timeZone}),o({entity:n})})))}}return t.\u0275fac=function(e){return new(e||t)(p.Sb(N.a),p.Sb(a.h),p.Sb(T.a))},t.\u0275prov=p.Fb({token:t,factory:t.\u0275fac}),t})();var H=n("V/fk");let J=(()=>{class t{}return t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({factory:function(e){return new(e||t)},providers:[C],imports:[[i.c,c.g.forChild([{path:"",component:x,canActivate:[C]}]),a.j.forFeature("details",$),N.b.forFeature([F]),H.a]]}),t})()}}]);